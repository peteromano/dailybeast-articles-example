(function(a,b){function j(){var a,b;for(a in i){b=i[a].sheet;try{(b&&!b.cssRules||null!=b.cssRules.length)&&i[a].onload()}catch(c){(1e3===c.code||"security"===c.message||"denied"===c.message)&&i[a].onload()}}}function k(b,e,k){var l,m=a("<link/>",{charset:b.scriptCharset||"",media:b.media||"all",rel:"stylesheet",type:"text/css"}).appendTo(c)[0];return e&&(i[l=g++]=m,h++||(f=setInterval(j,13))),m.onload=function(a){m.onload&&(e&&(delete i[l],--h||clearInterval(f)),m.onload=null,a===!0?(m.href=d,c.removeChild(m)):k(m))},m.href=b.url,m.onload}function l(a){return Function("return ("+a+");")()}var f,c=document.head||a("head")[0]||document.documentElement,d="data:text/css,",e=a.Deferred(function(a){var b=k({url:d},!1,function(){a.resolve(!1)});setTimeout(function(){b(!0),a.resolve(!0)},0)}),g=0,h=0,i={};a.ajaxPrefilter("css",function(a){a.cache===b&&(a.cache=!1),a.type="GET",a.async=!0,a.global=!1}),a.ajaxTransport("css",function(c){var d;return{send:function(f,g){d=a.noop,e.done(function(e){d&&(d=k(c,e,function(c){d=b,g(200,"OK",{css:a(c)})}))})},abort:function(){if(d){var a=d;d=b,a(!0)}}}}),a.ajaxPrefilter("img",function(a){null==a.cache&&(a.cache=!1),a.type="GET",a.async=!0}),a.ajaxTransport("img",function(a){var b;return{send:function(c,d){var e=new Image;b=function(a){var c=e;b=e=e.onload=e.onerror=null,null!=a?a?d(200,"OK",{img:c}):d(404,"Not Found"):c.src=null},e=new Image,e.onload=function(){b(!0)},e.onerror=function(){b(!1)},e.src=a.url},abort:function(){b&&b()}}}),a.ajaxPrefilter(function(a){a.laxjson&&(a.converters["text json"]=l)});var m={};a.ajaxPrefilter(function(a){return"GET"===a.type&&a.cache&&"string"==typeof a.cache?(a.global=!1,a._url=a.url,"pagecache"):b}),a.ajaxTransport("pagecache",function(c,d){c.dataTypes.shift();var f,g;return{send:function(b,e){f=c.cache+" "+c.url,g=m[f]||(m[f]=a.ajax(a.extend(d,{url:c._url,beforeSend:null,cache:!0,dataType:c.cache,headers:b,success:null,error:null,complete:null,timeout:0}))),g.always(function(a){if(g){var b;"resolved"===g.state()&&(b={},b[c.cache]=a),e(g.status,g.statusText,b,g.getAllResponseHeaders())}})},abort:function(){g=b}}}),a.Deferred=function(b){function e(a,b,c){return function(d){if("pending"===a.state()){var e,f;try{e=b(d)}catch(g){f=g}(f?a.reject:c?a.resolve:a.notify)(f||e)}}}function f(b){return function(){var g,h,d=a.Deferred(),f=0;for(g in c)h=arguments[f],b[g](h&&a.isFunction(h)?e(d,h,2>f):d[c[g]]),f++;return d.promiseA()}}var c={done:"resolve",fail:"reject",progress:"notify"},d=[].slice;return function(a){var c=b(),e={then:f(c),get:function(a){return e.then(function(b){return b[a]})},call:function(a){var b=d.call(arguments,1);return e.then(function(c){return c[a].apply(c,b)})}};return c.promiseA=function(){return e},a&&a.call(c,c),c}}(a.Deferred),a.ajaxPrefilter(function(c,d,e){if(c.retry){var f=c.url,g=e.promise();c._retried?c.success=c.error=c.complete=b:d=a.extend({},d,{_retried:!0}),e.pipe(null,function(){return c.retry.call(c.context||c,d,e)?a.ajax(d.url||f,d):g}).promise(e),e.success&&(e.success=e.done,e.error=e.fail,e.complete=function(a){return e.always(function(b,c,d){a.fireWith(this,["resolved"===e.state()?d:b])}),a.add}(a.Callbacks("once memory")))}});var n={},o=[].slice;a.Topic=function(b){var c,e=b&&n[b];return e||(c=a.Callbacks(),e={publish:c.fire,subscribe:c.add,unsubscribe:c.remove},b&&(n[b]=e)),e},a.each(a.Topic(),function(b){a[b]=function(c){c=a.Topic(c),c[b].apply(c,o.call(arguments,1))}}),a.ajaxPrefilter(function(b,c,d){var e=b.validate;if(e&&a.isFunction(e)){var g,f=b.context||b;try{g=e.call(f,c.data,b)}catch(h){g=h}g&&(a.Deferred().rejectWith(f,[d,"validationerror",g]).promise(d),d.success&&(d.success=d.done,d.error=d.fail,d.complete=a.Callbacks("once memory").fireWith(f,[d,"validationerror"]).add),d.abort(),d.fail(b.error),d.complete(b.complete))}}),a.each("when whenever".split(" "),function(b,c){a[c+"All"]=function(b,d){return a[c].apply(a,a.map(b,d))}}),a.each("when whenever".split(" "),function(b,c){a[c+"Array"]=function(b){return a[c].apply(a,b||[])}});var p=[].slice;a.whenever=function(){for(var c=0,d=p.call(arguments),e=d.length||1,f=e,g=a.Deferred(),h=function(a,b,c,d){return function(h){b[a]=this,c[a]=arguments.length>1?p.call(arguments):h,d?(c[a]={state:d,value:c[a]},--f||(1===e?g.resolveWith(b[0],[c[0]]):g.resolveWith(b,c))):g.notifyWith(b,c)}},i=Array(e),j=Array(e),k=Array(e);e>c;c++)d[c]&&a.isFunction(d[c].promise)?d[c].promise().progress(h(c,j,i)).done(h(c,k,d,"resolved")).fail(h(c,k,d,"rejected")):h(c,k,d,"resolved")(d[c]);return g.promise()},window.XDomainRequest&&a.ajaxTransport("+*",function(c){if(c.crossDomain&&c.async){c.timeout&&(c.xdrTimeout=c.timeout,delete c.timeout);var h;return{send:function(d,e){function f(c,d,f,g){h.onload=h.onerror=h.ontimeout=a.noop,h=b,e(c,d,f,g)}h=new XDomainRequest,h.onload=function(){f(200,"OK",{text:h.responseText},"Content-Type: "+h.contentType)},h.onerror=function(){f(404,"Not Found")},h.onprogress=a.noop,h.ontimeout=function(){f(0,"timeout")},h.timeout=c.xdrTimeout||Number.MAX_VALUE,h.open(c.type,c.url),h.send(c.hasContent&&c.data||null)},abort:function(){h&&(h.onerror=a.noop,h.abort())}}}})})(jQuery);